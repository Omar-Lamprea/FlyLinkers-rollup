import './NavPost.svelte.css';
/* src/components/post/NavPost.svelte generated by Svelte v3.46.4 */
import {
	SvelteComponent,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	space
} from "svelte/internal";

function create_fragment(ctx) {
	let div4;
	let div0;
	let label;
	let i0;
	let t0;
	let span0;
	let t2;
	let input;
	let t3;
	let div1;
	let t6;
	let div2;
	let t9;
	let div3;
	let mounted;
	let dispose;

	return {
		c() {
			div4 = element("div");
			div0 = element("div");
			label = element("label");
			i0 = element("i");
			t0 = space();
			span0 = element("span");
			span0.textContent = "Photo";
			t2 = space();
			input = element("input");
			t3 = space();
			div1 = element("div");

			div1.innerHTML = `<i class="fas fa-film svelte-1x5l75b"></i> 
      <span class="svelte-1x5l75b">Video</span>`;

			t6 = space();
			div2 = element("div");

			div2.innerHTML = `<i class="fas fa-calendar svelte-1x5l75b"></i> 
      <span class="svelte-1x5l75b">Event</span>`;

			t9 = space();
			div3 = element("div");

			div3.innerHTML = `<i class="fas fa-file-alt svelte-1x5l75b"></i> 
      <span class="svelte-1x5l75b">Write article</span>`;

			attr(i0, "class", "fas fa-image svelte-1x5l75b");
			attr(span0, "class", "svelte-1x5l75b");
			attr(input, "type", "file");
			attr(input, "name", "loadPhotoInput");
			attr(input, "id", "loadPhotoInput");
			attr(input, "class", "d-none");
			attr(input, "accept", ".png, .jpg, .jpeg, .gif");
			attr(label, "for", "loadPhotoInput");
			attr(label, "class", "svelte-1x5l75b");
			attr(div0, "class", "Header-nav Header-nav-image mx-3 svelte-1x5l75b");
			attr(div0, "id", "loadPhotoPost");
			attr(div0, "type", "file");
			attr(div1, "class", "Header-nav Header-nav-film mx-3 disabled svelte-1x5l75b");
			attr(div2, "class", "Header-nav Header-nav-calendar mx-3 disabled svelte-1x5l75b");
			attr(div3, "class", "Header-nav Header-nav-file-alt mx-3 hidden disabled svelte-1x5l75b");
			attr(div4, "class", "Nav-add-post d-flex justify-content-center");
		},
		m(target, anchor) {
			insert(target, div4, anchor);
			append(div4, div0);
			append(div0, label);
			append(label, i0);
			append(label, t0);
			append(label, span0);
			append(label, t2);
			append(label, input);
			append(div4, t3);
			append(div4, div1);
			append(div4, t6);
			append(div4, div2);
			append(div4, t9);
			append(div4, div3);

			if (!mounted) {
				dispose = listen(input, "change", /*showPostImg*/ ctx[0]);
				mounted = true;
			}
		},
		p: noop,
		i: noop,
		o: noop,
		d(detaching) {
			if (detaching) detach(div4);
			mounted = false;
			dispose();
		}
	};
}

function instance($$self) {
	const showPostImg = () => {
		if (loadPhotoInput.files[0].size > 3_145_728) {
			alert("File is too big! \nTry again with a file smaller than 3MB");
			loadPhotoInput.value = "";
		}

		if (loadPhotoInput.value !== "") {
			const render = new FileReader();
			render.readAsDataURL(loadPhotoInput.files[0]);

			render.onloadend = () => {
				postImg.classList.remove('d-none');
				postImg.src = render.result;
				ableBtn();
			};
		}
	};

	const ableBtn = () => {
		const btnsendPost = document.getElementById('btnSendPost');
		btnsendPost.removeAttribute('disabled');
	};

	return [showPostImg];
}

class NavPost extends SvelteComponent {
	constructor(options) {
		super();
		init(this, options, instance, create_fragment, safe_not_equal, {});
	}
}

export default NavPost;